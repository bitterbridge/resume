% Packages.
\usepackage{accsupp}
\usepackage{array}
\usepackage{enumitem}
\usepackage{ifthen}
\usepackage{fontawesome5}
\usepackage[pdftex]{hyperref}
\usepackage{tabularx}
\usepackage{xifthen}

% Read parameters.
% This defines the following variables:
% \myemail -- my email address
% \myrole -- allow accentuating different roles:
%   - "devops" -- DevOps Engineer
%   - "software" -- Software Engineer
\input{params.tex}

% Define new column types.
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcolumntype{R}{>{\raggedleft\arraybackslash}X}

% A variadic command to define a command with a variable number of arguments.
\newcommand{\Variadic}[6]{%
  \expandafter\newcommand\csname Gobble#1Arg\endcsname[2]{%
    \csname Check#1Arg\endcsname{##1#4##2}%
  }%
  \expandafter\newcommand\csname Check#1Arg\endcsname[1]{%
    \csname @ifnextchar\endcsname\bgroup{\csname Gobble#1Arg\endcsname{##1}}{#2{##1#5}#6}%
  }%
  \expandafter\newcommand\csname #1\endcsname[1]{%
    \csname Check#1Arg\endcsname{#3##1}%
  }%
}

% Define a new list type for a comma-separated list.
\newboolean{CSLFirstItem}
\newenvironment{CommaSeparatedList}
{% Initialization
  \setboolean{CSLFirstItem}{true}% Flag to track the first item
  \renewcommand\item{%
              \ifthenelse{\boolean{CSLFirstItem}}%
              {\setboolean{CSLFirstItem}{false}}% First item, do not print comma, switch flag off
              {\unskip, }% Not the first item, print comma
        }%
}{}

% A PDF command to insert a newline.
\newcommand{\PDFNewline}{^^J}

% Define a command for a contact info item.
\newcommand{\ContactInfoItem}[3]{#1\hspace{0.5em}\href{#2}{#3}}

% Define a command to separate contact items.
\newcommand{\ContactInfoItemseparator}{\hspace{1em}}

% My email address contact info item.
\newcommand{\MyEmailContactInfoItem}{%
  \BeginAccSupp{
    method=pdfstringdef,
    space=true,
    ActualText={\PDFNewline Email: \MyEmail}
  }\normalfont \ContactInfoItem{\faAt}{mailto:\MyEmail}{\MyEmail}
  \EndAccSupp{}
}

% Phone number contact info item.
\newcommand{\MyPhoneContactInfoItem}{%
  \BeginAccSupp{
    method=pdfstringdef,
    ActualText={\PDFNewline Phone: \MyPhoneNumber}
  }\normalfont \ContactInfoItem{\faPhone}{tel:\MyPhoneNumberPlain}{\MyPhoneNumber}
  \EndAccSupp{}
}

% Website contact info item.
\newcommand{\MyWebsiteUrl}{https://\MyWebsite/}
\newcommand{\MyWebsiteContactInfoItem}{%
  \BeginAccSupp{
    method=pdfstringdef,
    ActualText={\PDFNewline Website: \MyWebsiteUrl}
  }\normalfont \ContactInfoItem{\faGlobe}{\MyWebsiteUrl}{\MyWebsite}
  \EndAccSupp{}
}

% LinkedIn supplemental commands.
\newcommand{\MyLinkedInUrl}{https://www.linkedin.com/in/\MyLinkedInUsername/}
\newcommand{\MyLinkedInContactInfoItem}{%
  \BeginAccSupp{
    method=pdfstringdef,
    ActualText={\PDFNewline LinkedIn: \MyLinkedInUrl}
  }\normalfont \ContactInfoItem{\faLinkedin}{\MyLinkedInUrl}{\MyLinkedInUsername}
  \EndAccSupp{}
}

% GitHub supplemental commands.
\newcommand{\MyGitHubUrl}{https://github.com/\MyGitHubUsername/}
\newcommand{\MyGitHubContactInfoItem}{%
  \BeginAccSupp{
    method=pdfstringdef,
    ActualText={\PDFNewline GitHub: \MyGitHubUrl}
  }\normalfont \ContactInfoItem{\faGithub}{\MyGitHubUrl}{\MyGitHubUsername}
  \EndAccSupp{}
}

% My name, linked to my website.
\newcommand{\MyHeaderName}{%
  \Huge\bfseries\MyFullName
}

% My contact information is a list of contact items, separated by bullet points
% when they occur in the same line, and separated by newlines when they occur
% on different lines.
\newcommand{\MyContactInfo}{%
  \raggedleft \small
  \MyEmailContactInfoItem \ContactInfoItemseparator \MyPhoneContactInfoItem \\
  \MyWebsiteContactInfoItem \ContactInfoItemseparator \MyLinkedInContactInfoItem \ContactInfoItemseparator \MyGitHubContactInfoItem %
}

% Define my header.
\newcommand{\MyHeader}{%
  \noindent\begin{tabularx}{\textwidth}{@{}L R@{}}
    \MyHeaderName & \vspace{-1.75em}\MyContactInfo \\
  \end{tabularx}\vspace{-0.1in}\hrule
}

% Define a list of employers and periods of employment.
% This will be a list of items, each of which is a resumeemployer command.
\newcommand{\resumeemployers}[1]{%
  \begin{itemize}
    #1
  \end{itemize}
}

% Define an employer and period of employment.
% This is a two-column table with the employer on the left and the period of
% employment on the right.
\newcommand{\resumeemployer}[2]{%
  \item\noindent\begin{tabularx}{\linewidth}{@{}L R@{}}
    \textbf{#1} & #2 \\
  \end{tabularx}\vspace{-4pt}
}

% Define a list of roles at a given employer.
% This will be a list of items, each of which is a resumerole command.
\newcommand{\resumeroles}[1]{%
  \begin{itemize}[leftmargin=0pt, noitemsep, nosep, label={}]
    \item \small #1
  \end{itemize}
}

% Define a job title, project, and period of position.
% This is a two-column table with the job title on the left, project name in
% parentheses, and the period of the position on the right.
\newcommand{\resumerole}[3]{%
  #1 (#2; #3)
}

% Define a list of resume role items within a given role.
% This will be a list of items, each of which is a resumeroleitem command.
\newcommand{\resumeroleitems}[1]{%
  \begin{itemize}
    #1
  \end{itemize}\vspace{6pt}
}

% An item in a list.
\newcommand{\resumeroleitem}[1]{%
  \item \footnotesize #1 \vspace{-2pt}
}

% Define my experience
\newcommand{\MyExperience}{%
  % Begin experience list
  \resumeemployers{%
    % Begin Agile Six
    \resumeemployer{\href{https://agile6.com}{Agile Six Applications, Inc.}}{October 2020 -- Present}
    {% Begin roles at Agile Six
      \resumeroles{% List of roles at Agile Six

        % CIE DevOps Engineer Role
        \resumerole{Senior DevOps Engineer}{VA.gov Check-In Experience Team}{February 2024 -- Present}{%
          \resumeroleitems{%
            \resumeroleitem{Haven't blown anything up yet}
            \resumeroleitem{Served on a task force to improve hiring practices for DevOps engineers}
          } % End CIE DevOps Engineer role items.
        } % End CIE DevOps Engineer Role

        % CMS Tech Lead Role
        \resumerole{Technical Lead}{VA.gov Platform CMS Team}{July 2023 -- February 2024}{%
          \resumeroleitems{%
            \resumeroleitem{Directed ongoing enhancement and deployment of Drupal CMS and associated infrastructure for VA.gov}
            \resumeroleitem{Fostered transparency and alignment by communicating project progress, updates, and any issues or blockers}
            \resumeroleitem{Maintained clear and open lines of communication, enabling stakeholders to make informed decisions and ensuring project success}
            \resumeroleitem{Anticipated potential development challenges, identified project delays, and swiftly addressed issues}
            \resumeroleitem{Mentored engineers to improve proficiency and expertise in best practices}
            \resumeroleitem{Orchestrated team of 7-9 engineers in PagerDuty rotation, improving reliability and reducing incident response time}
            \resumeroleitem{Led team in overcoming complex technical challenges, removing impediments, and ensuring smooth project execution}
            \resumeroleitem{Hired multiple Senior Software Engineers and a Software Quality Architect; drafted job descriptions, conducted technical interviews, and made final hiring recommendations}
          }
        }% End CMS Tech Lead Role

        % CMS DevOps Engineer Role
        \resumerole{Senior DevOps Engineer}{VA.gov Platform CMS Team}{October 2020 -- February 2024}{%
          \resumeroleitems{%
            \resumeroleitem{Improved QA architecture, improving overall product quality and customer satisfaction}
            \resumeroleitem{Mentored engineers on test design and system architecture}
            \resumeroleitem{Crafted and documented procedures, including timelines and sample communications, for consistent management of out-of-band deploys}
            \resumeroleitem{Revamped internal content release management system, significantly reducing change failure rate}
            \resumeroleitem{Streamlined test pipeline, reducing test time and product delivery lead time}
            \resumeroleitem{Developed and maintained custom modules for Drupal 8/9/10 CMS}
          }
        }% End CMS DevOps Engineer Role
      } % End roles at Agile Six
    }% End Agile Six

    % Begin Aviation International News
    \resumeemployer{\href{https://www.ainonline.com/}{Aviation International News}}{January 2015 -- October 2020}
    {% Begin roles at Aviation International News
      \resumeroles{% List of roles at Aviation International News

        % Senior Software/DevOps Engineer Role
        \resumerole{Senior Software/DevOps Engineer}{ainonline.com}{January 2015 -- October 2020}{%
          \resumeroleitems{%
            \resumeroleitem{Architected and executed an innovative DevOps and backend development strategy, supporting the launch of two successful media products}
            \resumeroleitem{Implemented local development environments, CI/CD pipelines, and QA best practices}
            \resumeroleitem{Guided and mentored junior engineers, emphasizing soft skills and engineering best practices}
            \resumeroleitem{Instituted CD pipeline, including functional tests and staging deployment}
            \resumeroleitem{Created a Vagrant-based solution for local development, increasing team productivity and streamlining development and testing of new features}
            \resumeroleitem{Developed an app to centralize ad sales, subscriptions, and circulation data, reducing manual data entry and empowering data-driven decision-making}
            \resumeroleitem{Architected CI pipeline, encompassing unit tests, static analysis, and code style tests}
            \resumeroleitem{Migrated systems from Acquia hosting to sustainable, self-servicing AWS, cutting infrastructure expenses by over two-thirds and reducing annual hosting costs by 40\%}
          }
        }% End Senior Software/DevOps Engineer Role
      } % End roles at Aviation International News
    }% End Aviation International News

    % Begin DEVONtechnologies
    \resumeemployer{\href{https://www.devontechnologies.com/}{DEVONtechnologies}}{January 2011 -- December 2015}
    {% Begin roles at DEVONtechnologies
      \resumeroles{% List of roles at DEVONtechnologies

        % Software Engineer Role
        \resumerole{Software Engineer}{DEVONthink Sync}{January 2011 -- December 2015}{%
          \resumeroleitems{%
            \resumeroleitem{Developed, launched, and maintained proprietary sync technologies for flagship macOS/iOS desktop document database app}
            \resumeroleitem{Collaborated and communicated within a globally dispersed engineering department across six countries and four continents}
            \resumeroleitem{Led the adoption of Agile project management, Lean principles, and DevOps methodologies}
            \resumeroleitem{Introduced CI/CD pipelines, resulting in a significant decrease in delivery lead time and eradicating delivery and packaging errors}
            \resumeroleitem{Introduced automated testing, leading to a large reduction in manual testing hours, elevating test coverage, and cutting change failure rate}
            \resumeroleitem{Automated aspects of certificate and configuration management, saving several person-days annually}
          }
        }% End Software Engineer Role
      } % End roles at DEVONtechnologies
    }% End DEVONtechnologies

  }% End employers
}% End experience section

% Define a degree and period of study.
\newcommand{\resumestudy}[4]{%
  \BeginAccSupp{
    method=pdfstringdef,
    unicode,
    ActualText={\PDFNewline I earned a #1 after attending #2 #3. \PDFNewline}
  }
  #1 (#2; #3)
  \EndAccSupp{}
}

% Define my education
\newcommand{\MyEducation}{%
  \resumestudy{Bachelor's in Computer Science}{University of Nevada at Las Vegas}{May 2009 -- December 2011}{%
    \PDFNewline - Graduated with a 3.5 GPA
    \PDFNewline - Took graduate-level coursework in Artificial Intelligence
    \PDFNewline - Completed an independent study in Virtual Machine design and implementation, and gave a guest lecture on the topic
  }
}

% Define a list of skill areas.
% This will be a list of items, each of which is a resumeskillarea command.
\newcommand{\resumeskillareas}[1]{%
  \begin{itemize}[leftmargin=0pt, noitemsep, nosep, label={}]
    #1
  \end{itemize}
}

% Define a skill area and its skills.
\newcommand{\resumeskillarea}[2]{%
  \item \small\textbf{#1}: \begin{CommaSeparatedList}#2\end{CommaSeparatedList}
}

% Define a resume skill language.
% Each language is a language name, years of experience, and list of projects.
\newcommand{\resumeskilllanguage}[4]{%
  \item\BeginAccSupp{
    method=pdfstringdef,
    unicode,
    ActualText={\PDFNewline #3 years of experience in #2 \PDFNewline #2 projects: #4 \PDFNewline}
  }\normalfont{#1}%
  \EndAccSupp{}%
}

% Define a list of resume skill language projects.
% This will be a list of items, each of which is a resumeskilllanguageproject command.
\newcommand{\resumeskilllanguageprojects}[1]{%
  \BeginAccSupp{
    method=pdfstringdef,
    unicode,
    ActualText={\PDFNewline}
  }%
  #1%
  \EndAccSupp{}%
}

% Define a resume skill language project.
\newcommand{\resumeskilllanguageproject}[3]{%
  \BeginAccSupp{
    method=pdfstringdef,
    unicode,
    ActualText={\PDFNewline - #1 (see #2): #3}
  }
  \item\href{#2}{#1}: #3
  \EndAccSupp{}
}

% Define my skills
\newcommand{\MySkills}{%
  % Begin skill areas list
  \resumeskillareas{%
    \resumeskillarea{Languages}{%
      % Python, JavaScript, PHP, Ruby, Java, C\#, C++, C, Swift, Objective-C, Bash, SQL, HTML, CSS, XML, JSON, YAML,
      \resumeskilllanguage{PHP}{PHP}{9}{%
        \PDFNewline - VA.gov CMS (https://www.va.gov/) (2020-2024): I developed and maintained the backend for a major government website, including custom code for a Drupal 8/9/10 CMS.
        \PDFNewline - AINonline (https://www.ainonline.com/) (2016-2020): I developed and maintained the backend for an aviation news website, including custom code for a Drupal 7 CMS, ad sales, a custom newsletter generator, and subscription management.
        \PDFNewline - BJTonline (https://www.bjtonline.com/) (2016-2020): I developed and maintained the backend for a business aviation news website, including custom code for a Drupal 7 CMS, ad sales, and subscription management.
        \PDFNewline - FutureFlight (https://www.futureflight.aero/) (2019-2020): I developed and maintained the backend for an aviation news website, including custom code for a Drupal 8 CMS, a custom newsletter generator, and subscription management.
      }
      \resumeskilllanguage{Objective-C}{Objective-C}{4}{%
        \PDFNewline - DEVONthink Pro Sync (https://devontechnologies.com/) (2012-2015): I developed and maintained the sync engine for a macOS/iOS desktop document database app.
      }
      \resumeskilllanguage{\LaTeX{}}{LaTeX}{1}{%
        \PDFNewline - Resume (https://github.com/ndouglas/resume) (2024-): I rewrote my resume in LaTeX to improve its maintainability and my ability to fine-tune it for individual job descriptions.
      }
    }
    \resumeskillarea{Infrastructure-as-Code}{%
      \item Terraform
      \item CloudFormation
      \item Ansible
      \item Puppet
      \item Chef
      \item SaltStack
    }
    \resumeskillarea{CI/CD}{%
      \item Jenkins
      \item GitHub Actions
      \item CircleCI
      \item Travis CI
      \item GitLab CI
      \item Bitbucket Pipelines
    }
    \resumeskillarea{Containerization}{%
      \item Docker
      \item Kubernetes
      \item Nomad
      \item Amazon ECS
      \item Amazon EKS
    }
    \resumeskillarea{Cloud Platforms}{%
      \item Amazon Web Services
      \item Google Cloud Platform
      \item Microsoft Azure
    }
    \resumeskillarea{Monitoring}{%
      \item Prometheus
      \item Grafana
      \item Datadog
      \item New Relic
      \item Amazon CloudWatch
    }
    \resumeskillarea{Logging}{%
      \item Elasticsearch
      \item Logstash
      \item Kibana
      \item Splunk
      \item Sumo Logic
    }
    \resumeskillarea{Networking}{%
      \item TCP/IP
      \item DNS
      \item HTTP
      \item HTTPS
      \item VPN
      \item VPC
      \item Route 53
      \item CloudFront
      \item ELB
      \item ALB
      \item NLB
    }
  }
}
